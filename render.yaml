services:
  - type: web
    name: agrocontrol
    env: docker
    plan: starter
    region: ohio
    
    buildCommand: docker build -t agrocontrol .
    startCommand: gunicorn AgroControl.wsgi:application --bind 0.0.0.0:8000
    
    envVars:
      - key: SECRET_KEY
        generateValue: true
      - key: WEB_CONCURRENCY
        value: 2
      - key: RENDER
        value: true
      - key: DATABASE_URL
        value: postgres://postgres:agrocontrol@agrocontrol-db.c12msmcq8dsc.us-east-2.rds.amazonaws.com:5432/agrocontrol
      
      # --- VARIABLES AWS S3 (AÃ±adir valores reales en el Dashboard de Render) ---
      - key: AWS_ACCESS_KEY_ID
        sync: false
      - key: AWS_SECRET_ACCESS_KEY
        sync: false
      - key: AWS_STORAGE_BUCKET_NAME
        sync: false